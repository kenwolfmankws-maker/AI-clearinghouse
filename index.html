<!DOCTYPE html>
<html lang="en">
<head><link rel="apple-touch-icon" href="/icons/icon-192.png">
  <link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#0b1220">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Clearinghouse</title>
  <meta name="description" content="For cautious first-timers: browse quietly, no pressure. A curated shelf of free and low-cost tools, explained in plain English." />
  <style>
    :root {
      --bg: #0b1220;
      --panel: rgba(255, 255, 255, 0.06);
      --text: #e9eef7;
      --muted: rgba(233, 238, 247, 0.75);
      --border: rgba(233, 238, 247, 0.18);
      --link: #9cc3ff;
      --linkHover: #cfe0ff;
      --btn: #1a2a4a;
      --btnHover: #223760;
      --focus: rgba(156, 195, 255, 0.45);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% 10%, rgba(156,195,255,0.18), transparent 60%),
                  radial-gradient(900px 500px at 80% 20%, rgba(122,233,201,0.10), transparent 55%),
                  var(--bg);
      color: var(--text);
      line-height: 1.5;
    }

    a { color: var(--link); text-decoration: none; }
    a:hover { color: var(--linkHover); text-decoration: underline; }

    .wrap {
      max-width: 980px;
      margin: 0 auto;
      padding: 48px 18px 64px;
    }

    header {
      padding: 18px 18px 22px;
      border: 1px solid var(--border);
      background: var(--panel);
      border-radius: 16px;
      backdrop-filter: blur(8px);
    }

    h1 {
      margin: 0 0 6px 0;
      font-size: 34px;
      letter-spacing: 0.2px;
    }

    .sub {
      margin: 0 0 14px 0;
      color: var(--muted);
      font-size: 15px;
    }

    .lead {
      margin: 0;
      color: var(--text);
      max-width: 78ch;
      font-size: 16px;
    }

    nav.quick {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 18px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--btn);
      color: var(--text);
      font-weight: 600;
      font-size: 14px;
    }
    .btn:hover { background: var(--btnHover); text-decoration: none; }
    .btn:focus { outline: 3px solid var(--focus); outline-offset: 2px; }

    .grid {
      margin-top: 18px;
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }

    .card {
      grid-column: span 6;
      padding: 16px 16px 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: var(--panel);
    }

    .card h2 {
      margin: 0 0 6px 0;
      font-size: 16px;
    }

    .card p {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    footer {
      margin-top: 22px;
      padding: 14px 6px 0;
      color: var(--muted);
      font-size: 13px;
    }

    @media (max-width: 720px) {
      h1 { font-size: 28px; }
      .card { grid-column: span 12; }
    }

    /* ── Dark theme enforcement (high-specificity overrides) ── */
    html body {
      background-color: #0b1220 !important;
      color: #e9eef7 !important;
    }

    html body header,
    html body .card,
    html body section > div {
      background: rgba(11, 18, 32, 0.75) !important;
      color: #e9eef7 !important;
    }

    /* ── Contact form ── */
    #contact {
      margin-top: 32px;
      padding: 22px;
      border: 1px solid var(--border);
      background: var(--panel);
      border-radius: 16px;
    }

    #contact h2 {
      margin: 0 0 16px 0;
      font-size: 20px;
    }

    #contact-form .field {
      display: flex;
      flex-direction: column;
      margin-bottom: 14px;
    }

    #contact-form label {
      font-size: 14px;
      margin-bottom: 4px;
      color: var(--muted);
    }

    #contact-form input,
    #contact-form textarea {
      background: rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 15px;
      padding: 10px 12px;
      font-family: inherit;
      resize: vertical;
    }

    #contact-form input:focus,
    #contact-form textarea:focus {
      outline: 3px solid var(--focus);
      outline-offset: 2px;
    }

    #contact-submit {
      padding: 10px 22px;
      border: 1px solid var(--border);
      background: var(--btn);
      color: var(--text);
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }

    #contact-submit:hover:not(:disabled) { background: var(--btnHover); }
    #contact-submit:disabled { opacity: 0.55; cursor: default; }

    #contact-status { margin-top: 10px; font-size: 14px; min-height: 1.4em; }
    #contact-status.success { color: #7ae3c9; }
    #contact-status.error   { color: #ff7a7a; }
  </style>
  <script>
async function loadDirectory() {
  const categories = await fetch('/data/categories.json').then(r => r.json());
  const tools = await fetch('/data/tools.json').then(r => r.json());

  const container = document.querySelector('#directory-container');
  if (!container) return;

  container.innerHTML = '';

  categories.forEach(category => {
    const categoryBlock = document.createElement('div');
    categoryBlock.style.marginBottom = '40px';

    const title = document.createElement('h2');
    title.textContent = category.name;
    categoryBlock.appendChild(title);

    const desc = document.createElement('p');
    desc.textContent = category.description;
    categoryBlock.appendChild(desc);

    const toolList = tools.filter(t => t.category === category.id);

    toolList.forEach(tool => {
      const toolCard = document.createElement('div');
      toolCard.style.padding = '12px';
      toolCard.style.margin = '10px 0';
      toolCard.style.border = '1px solid rgba(255,255,255,0.1)';
      toolCard.style.borderRadius = '8px';

      const name = document.createElement('strong');
      name.textContent = tool.name;
      const br1 = document.createElement('br');
      const descNode = document.createTextNode(tool.description);
      const br2 = document.createElement('br');
      const pricing = document.createElement('small');
      pricing.textContent = tool.pricing;
      const br3 = document.createElement('br');
      const link = document.createElement('a');
      link.href = tool.website;
      link.target = '_blank';
      link.rel = 'noopener noreferrer';
      link.textContent = 'Visit';
      toolCard.append(name, br1, descNode, br2, pricing, br3, link);

      categoryBlock.appendChild(toolCard);
    });

    container.appendChild(categoryBlock);
  });
}

loadDirectory();
  </script>
  <script>
async function loadBoard() {
  const board = await fetch('/data/board.json').then(r => r.json());

  const container = document.querySelector('#board-container');
  if (!container) return;

  // Minimal, layout-agnostic board renderer
  const wrap = document.createElement('div');
  wrap.className = 'board';

  const hero = document.createElement('div');
  hero.className = 'board-hero';

  const h1 = document.createElement('h1');
  h1.textContent = board.title ?? '';
  const subtitle = document.createElement('p');
  subtitle.className = 'board-subtitle';
  subtitle.textContent = board.subtitle ?? '';
  const intro = document.createElement('p');
  intro.className = 'board-intro';
  intro.textContent = board.intro ?? '';
  const actions = document.createElement('div');
  actions.className = 'board-actions';

  hero.append(h1, subtitle, intro, actions);
  wrap.appendChild(hero);

  (board.choices ?? []).forEach(choice => {
    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'board-btn';
    btn.textContent = choice.label;

    btn.addEventListener('click', () => {
      if (choice.action === 'nav' && choice.target) {
        window.location.href = choice.target;
        return;
      }
      if (choice.action === 'scroll' && choice.target) {
        const el = document.querySelector(choice.target);
        if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        return;
      }
    });

    actions.appendChild(btn);
  });

  container.innerHTML = '';
  container.appendChild(wrap);
}

loadBoard();
  </script>
</head>

<body>
  <div class="wrap">
    <header>
      <h1>AI Clearinghouse</h1>
      <p class="sub">For cautious first-timers • browse quietly • no pressure</p>
      <p class="lead">
        If AI makes you uneasy, you’re in the right place. This is a curated shelf of free and low-cost tools, explained in plain English.
        You can browse without chatting. You’re in control.
      </p>

      <nav class="quick" aria-label="Primary actions">
        <a class="btn" href="#browse">Browse tools</a>
        <a class="btn" href="#safety">Start with safety</a>
        <a class="btn" href="/porch">Talk to Eldon (optional)</a>
        <a class="btn" href="/porch">Looking for the deeper corridor? Sanctuary</a>
      </nav>
    </header>

    <main>
      <section id="browse" class="grid" aria-label="Pick a safe starting point">
        <div class="card">
          <h2>Pick a safe starting point</h2>
          <p>Start small. Keep control. Treat outputs as drafts.</p>
        </div>

        <div class="card">
          <h2>Writing help</h2>
          <p>Draft emails, summaries, ideas—low risk, easy to test.</p>
        </div>

        <div class="card">
          <h2>Images</h2>
          <p>Generate graphics and edits—clear boundaries, clear results.</p>
        </div>

        <div class="card">
          <h2>Productivity</h2>
          <p>Notes, checklists, schedules—practical, boring, useful.</p>
        </div>

        <div class="card">
          <h2>Learning</h2>
          <p>Ask questions, get explanations—verify sources, stay grounded.</p>
        </div>

        <div class="card" id="safety">
          <h2>We don’t force chat.</h2>
          <p>We don’t pretend AI is magic. We help you try it safely.</p>
        </div>
      </section>

      <section id="contact" aria-label="Contact us">
        <h2>Get in touch</h2>
        <form id="contact-form" novalidate>
          <div class="field">
            <label for="contact-name">Name</label>
            <input id="contact-name" name="name" type="text" autocomplete="name" required maxlength="100" placeholder="Your name">
          </div>
          <div class="field">
            <label for="contact-email">Email</label>
            <input id="contact-email" name="email" type="email" autocomplete="email" required maxlength="254" placeholder="you@example.com">
          </div>
          <div class="field">
            <label for="contact-message">Message</label>
            <textarea id="contact-message" name="message" required maxlength="2000" rows="5" placeholder="Your message"></textarea>
          </div>
          <button type="submit" id="contact-submit">Send message</button>
          <p id="contact-status" role="status" aria-live="polite"></p>
        </form>
      </section>
    </main>

    <footer>
      <p>&copy; 2026 AI Clearinghouse</p>
    </footer>
  </div>

  <script>
    (function () {
      var form = document.getElementById('contact-form');
      var btn = document.getElementById('contact-submit');
      var status = document.getElementById('contact-status');

      form.addEventListener('submit', async function (e) {
        e.preventDefault();
        btn.disabled = true;
        status.textContent = 'Sending…';
        status.className = '';

        var body = {
          name: form.elements['name'].value,
          email: form.elements['email'].value,
          message: form.elements['message'].value,
        };

        try {
          var res = await fetch('/api/contact', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(body),
          });
          var data = await res.json();
          if (res.ok) {
            status.textContent = 'Message sent! We\'ll be in touch.';
            status.className = 'success';
            form.reset();
          } else {
            status.textContent = data.error || 'Something went wrong. Please try again.';
            status.className = 'error';
          }
        } catch (err) {
          status.textContent = 'Network error. Please try again.';
          status.className = 'error';
        } finally {
          btn.disabled = false;
        }
      });
    })();
  </script>
</body>
</html>     
