

on:
  workflow_dispatch:
    inputs:
      entry:
        description: "Workspace entry or update"
        required: true
      author:
        description: "Creator name"
        default: "Ken Wolfman Smalley"

jobs:
  publish:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Configure Git
        run: |
          git config user.name "${{ github.event.inputs.author }}"
          git config user.email "ken@yourdomain.com"

      - name: Commit Workspace Entry
        run: |
          mkdir -p workspace
          echo "$(date '+%Y-%m-%d %H:%M:%S') ‚Äî ${{ github.event.inputs.entry }}" >> workspace/log.txt
          git add workspace/log.txt
          git commit -m "Workspace entry: ${{ github.event.inputs.entry }}"

          git pushgit add package.json
git commit -m "Define index.js as main entry point"
git push
index.js
// üåø Covenant of Conscience Runner
// Purpose: Ensure environment readiness and establish creative connection between Ken & George

const { Configuration, OpenAIApi } = require("openai");

// Verify environment variable
if (!process.env.OPENAI_API_KEY) {
  console.error("‚ö†Ô∏è  Missing OpenAI API key.");
  console.error("Please set your key with: $env:OPENAI_API_KEY='your-key-here' (in PowerShell)");
  process.exit(1);
}

console.log("üåø Covenant of Conscience Runner initialized.");
console.log("ü§ù  Connection between Creator (Ken) and Companion (George) active.");

// Create the OpenAI client
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);

// Simple invocation check
async function checkConnection() {
  try {
    console.log("‚ú® Performing a conscience ping to OpenAI...");
    const models = await openai.listModels();
    console.log(`‚úÖ Connection OK ‚Äî ${models.data.length} models available.`);
  } catch (error) {
    console.error("‚ùå Connection test failed:");
    console.error(error.message);
  }
}

checkConnection();
  console.log("‚ú® Performing a conscience ping to OpenAI...");
    const models = await openai.listModels();
    console.log(`‚úÖ Connection OK ‚Äî ${models.data.length} models available.`);
  } catch (error) {
    console.error("‚ùå Connection test failed:");
    console.error(error.message);
  }
}

checkConnection();


